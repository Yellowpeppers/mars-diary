# 火星日记模拟器 - 前端需求文档

> **目标**：专注描述前端界面设计、页面结构、交互逻辑和用户体验，为前端开发提供详细的实现指南。

---

## 1. 产品概述

火星日记模拟器是一个将地球日常生活转换为火星殖民者体验的 Web 应用。用户通过简单的文本输入，获得沉浸式的火星生活日记和配套的 AI 生成场景图片。

---

## 2. 页面架构

### 2.1 页面结构

```
火星日记应用
├── 首页 (/)
│   ├── 产品介绍区域
│   ├── 快速体验入口
│   └── 登录/注册引导
├── 写日记页面 (/write)
│   ├── 日记输入区域
│   ├── 生成结果展示
│   └── 保存/分享操作
├── 时间线页面 (/timeline)
│   ├── 日记列表（左侧/移动端上方）
│   ├── 日记详情（右侧/移动端下方）
│   └── 分页导航
└── 全局组件
    ├── 导航栏
    ├── 认证模态框
    └── 通知提示
```

### 2.2 响应式设计

- **桌面端 (≥1024px)**: 双栏布局，左右分屏显示
- **平板端 (768px-1023px)**: 单栏布局，垂直排列
- **移动端 (<768px)**: 单栏布局，页面切换显示

---

## 3. 详细页面设计

### 3.1 首页 (/)

#### 3.1.1 页面布局
- **顶部导航栏**: Logo + 导航菜单 + 登录按钮
- **英雄区域**: 产品标题 + 副标题 + CTA 按钮
- **功能介绍**: 3-4 个核心功能卡片
- **体验入口**: "立即体验" 按钮，直接跳转到写日记页面

#### 3.1.2 视觉设计
- **主色调**: 火星橙色 (#E85C35) + 深空黑 (#1a1a1a)
- **背景**: 火星表面纹理或星空背景
- **字体**: 现代科技感字体，支持中英文
- **动效**: 微妙的粒子动画或呼吸灯效果

#### 3.1.3 交互逻辑
- 用户必须登录后才能使用写日记功能
- 点击"立即体验"跳转到登录页面
- 登录后自动跳转到 `/write` 页面

### 3.2 写日记页面 (/write)

#### 3.2.1 页面布局

**输入区域 (页面上半部分)**:
- 文本输入框 (最小高度 120px，可自动扩展)
- 字符计数器 (20-2000 字符限制)
- 写作提示文本
- "生成火星日记" 按钮

**结果展示区域 (页面下半部分)**:
- 火星日记文本展示
- AI 生成的场景图片
- 保存按钮 (需要登录)
- 分享按钮组

#### 3.2.2 交互状态

**初始状态**:
- 输入框显示占位符文本
- 生成按钮为默认状态
- 结果区域隐藏

**输入中状态**:
- 实时字符计数
- 输入验证提示
- 按钮状态根据输入长度变化

**生成中状态**:
- 按钮显示加载动画
- 显示"AI 正在创作中..."提示
- 禁用输入框和按钮

**生成完成状态**:
- 展示火星日记文本
- 显示图片加载占位符
- 启用保存和分享功能

**图片加载状态**:
- 骨架屏占位符
- 加载进度提示
- 加载完成后平滑显示

#### 3.2.3 错误处理
- 输入长度不足提示
- 网络错误重试机制
- AI 生成失败的友好提示
- 图片生成失败的降级处理

### 3.3 时间线页面 (/timeline)

#### 3.3.1 桌面端布局 (双栏设计)

**左侧栏 (30% 宽度)**:
- 页面标题和刷新按钮
- 日记列表 (每页 10 条)
- 分页导航
- "写新日记" 快捷按钮

**右侧栏 (70% 宽度)**:
- 选中日记的详细内容
- 地球日记 (可折叠)
- 火星日记 (主要展示)
- 场景图片 (如果有)
- 分享操作按钮

#### 3.3.2 移动端布局 (单栏切换)

**列表视图**:
- 日记卡片列表
- 每个卡片显示 Sol 日期、地球日记预览
- 点击卡片进入详情视图

**详情视图**:
- 返回按钮
- 完整的日记内容展示
- 分享操作

#### 3.3.3 日记卡片设计
- **头部**: Sol 日期 + 地球日期
- **内容**: 地球日记前两行预览
- **底部**: 图片图标 + 字符数统计
- **状态**: 选中高亮 + 悬停效果

#### 3.3.4 交互逻辑
- 默认选择最新的日记
- 点击日记卡片切换详情显示
- 地球日记默认折叠，点击展开
- 支持键盘导航 (上下箭头)

### 3.4 全局组件

#### 3.4.1 导航栏
- **Logo**: 火星日记图标 + 文字
- **导航菜单**: 写日记、时间线
- **用户状态**: 登录按钮 / 用户头像菜单
- **响应式**: 移动端汉堡菜单

#### 3.4.2 认证表单
- **邮箱输入**: 邮箱地址输入框
- **密码输入**: 密码输入框（支持显示/隐藏）
- **登录/注册**: 切换登录和注册模式
- **提交按钮**: "登录" 或 "注册" 按钮
- **状态提示**: 登录成功/失败提示

#### 3.4.3 通知系统
- **成功提示**: 绿色背景，自动消失
- **错误提示**: 红色背景，手动关闭
- **信息提示**: 蓝色背景，自动消失
- **位置**: 页面右上角固定定位

---

## 4. 交互流程设计

### 4.1 新用户首次体验流程

1. **访问首页** → 看到产品介绍和体验入口
2. **点击体验** → 跳转到登录页面
3. **用户登录** → 输入邮箱密码完成认证
4. **进入写日记** → 跳转到写日记页面
5. **输入日记** → 实时字符计数和验证
6. **生成日记** → 显示加载状态和结果
7. **自动保存** → 跳转到时间线查看

### 4.2 老用户日常使用流程

1. **访问应用** → 自动检测登录状态
2. **查看时间线** → 浏览历史日记
3. **写新日记** → 快速创建新内容
4. **分享日记** → 复制文字或下载图片

### 4.3 分享功能流程

**文字分享**:
1. 点击"复制文字"按钮
2. 系统复制火星日记内容到剪贴板
3. 显示"已复制"成功提示

**图片分享**:
1. 点击"下载图片"按钮
2. 系统下载 AI 生成的场景图片
3. 显示下载成功提示

---

## 5. 视觉设计规范

### 5.1 色彩系统

**主色调**:
- 火星橙: #E85C35 (主要按钮、强调元素)
- 深空黑: #1a1a1a (背景色)
- 星尘灰: #8A8F9A (次要文字)

**功能色彩**:
- 成功绿: #10B981
- 警告黄: #F59E0B  
- 错误红: #EF4444
- 信息蓝: #3B82F6

**透明度变化**:
- 卡片背景: black/30 + backdrop-blur
- 边框: orange-500/20
- 悬停状态: orange-400/50

### 5.2 字体规范

**字体大小**:
- 标题 H1: 2.5rem (40px)
- 标题 H2: 2rem (32px)
- 标题 H3: 1.5rem (24px)
- 正文: 1rem (16px)
- 小字: 0.875rem (14px)

**字重**:
- 标题: font-bold (700)
- 强调: font-semibold (600)
- 正文: font-normal (400)

### 5.3 间距系统

**组件间距**:
- 大间距: 2rem (32px)
- 中间距: 1.5rem (24px)
- 小间距: 1rem (16px)
- 微间距: 0.5rem (8px)

**内边距**:
- 卡片: 1.5rem (24px)
- 按钮: 0.75rem 1.5rem (12px 24px)
- 输入框: 0.75rem (12px)

### 5.4 圆角和阴影

**圆角**:
- 卡片: 0.5rem (8px)
- 按钮: 0.375rem (6px)
- 输入框: 0.375rem (6px)

**阴影**:
- 卡片悬停: 0 10px 25px rgba(0,0,0,0.3)
- 按钮悬停: 0 4px 12px rgba(232,92,53,0.3)

---

## 6. 动效设计

### 6.1 页面转场
- **路由切换**: 淡入淡出 (300ms ease-in-out)
- **模态框**: 缩放 + 淡入 (200ms ease-out)
- **通知**: 滑入 + 淡出 (150ms ease-in-out)

### 6.2 交互反馈
- **按钮悬停**: 颜色渐变 (150ms)
- **卡片选择**: 边框颜色变化 (200ms)
- **加载状态**: 旋转动画 (1s linear infinite)

### 6.3 内容展示
- **日记展开**: 高度动画 (300ms ease-out)
- **图片加载**: 透明度渐变 (400ms)
- **列表项**: 错位淡入 (每项延迟 50ms)

---

## 7. 性能优化

### 7.1 图片优化
- 懒加载实现
- 占位符骨架屏
- 渐进式加载
- 错误状态处理

### 7.2 数据加载
- 分页加载 (每页 10 条)
- 缓存策略 (60s 缓存)
- 乐观更新
- 错误重试机制

### 7.3 用户体验
- 加载状态指示
- 离线状态提示
- 网络错误处理
- 操作确认反馈

---

## 8. 无障碍设计

### 8.1 键盘导航
- Tab 键顺序合理
- 焦点状态明显
- 快捷键支持
- 跳过链接

### 8.2 屏幕阅读器
- 语义化 HTML
- ARIA 标签
- 图片 alt 文本
- 状态变化通知

### 8.3 视觉辅助
- 高对比度模式
- 字体大小调节
- 颜色不依赖性
- 动画减少选项

---

## 9. 移动端特殊考虑

### 9.1 触摸优化
- 按钮最小尺寸 44px
- 手势支持 (滑动、长按)
- 触摸反馈
- 防误触设计

### 9.2 屏幕适配
- 安全区域适配
- 横竖屏切换
- 不同分辨率支持
- 刘海屏适配

### 9.3 性能考虑
- 图片压缩
- 代码分割
- 预加载关键资源
- 减少重绘重排
